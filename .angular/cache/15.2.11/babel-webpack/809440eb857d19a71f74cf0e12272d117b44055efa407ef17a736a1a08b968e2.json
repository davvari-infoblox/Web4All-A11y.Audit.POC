{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data.service\";\nfunction ProductsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"span\", 5);\n    i0.ɵɵtext(2, \"Loading products...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Loading... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ProductsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"app-table-view\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"products\", ctx_r2.products);\n  }\n}\nexport class ProductsComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.products = [];\n    this.loading = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.dataService.getProducts().subscribe({\n      next: data => {\n        this.products = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load products. Please try again later.';\n        this.loading = false;\n        // Announce error to screen readers\n        const announcement = document.createElement('div');\n        announcement.setAttribute('aria-live', 'assertive');\n        announcement.textContent = this.error;\n        document.body.appendChild(announcement);\n        setTimeout(() => document.body.removeChild(announcement), 1000);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ProductsComponent_Factory(t) {\n      return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"products-section\"], [\"role\", \"alert\", \"aria-busy\", \"true\", \"class\", \"loading-indicator\", 4, \"ngIf\"], [\"role\", \"alert\", \"class\", \"error-message\", \"aria-live\", \"assertive\", 4, \"ngIf\"], [\"class\", \"products-container\", 4, \"ngIf\"], [\"role\", \"alert\", \"aria-busy\", \"true\", 1, \"loading-indicator\"], [1, \"visually-hidden\"], [\"role\", \"alert\", \"aria-live\", \"assertive\", 1, \"error-message\"], [1, \"products-container\"], [\"caption\", \"Our Eco-Friendly Products\", 3, \"products\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Our Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ProductsComponent_div_3_Template, 4, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 1, \"div\", 2);\n          i0.ɵɵtemplate(5, ProductsComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n        }\n      },\n      styles: [\"(()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\t\\\"use strict\\\";\\n \\t\\n \\t\\n })()[_ngcontent-%COMP%]\\n;\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;IAGEA,8BAG+B;IACCA,mCAAmB;IAAAA,iBAAO;IACxDA,4BACF;IAAAA,iBAAM;;;;;IAENA,8BAG2B;IACzBA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;;;IAEAA,8BAA2D;IACzDA,oCAGiB;IACnBA,iBAAM;;;;IAHFA,eAAqB;IAArBA,0CAAqB;;;ACZ3B,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAJ/B,aAAQ,GAAc,EAAE;IACxB,YAAO,GAAG,IAAI;IACd,UAAK,GAAG,EAAE;EAEqC;EAE/CC,QAAQ;IACN,IAAI,CAACD,WAAW,CAACE,WAAW,EAAE,CAACC,SAAS,CAAC;MACvCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpB,IAAI,CAACE,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACD,KAAK,GAAG,kDAAkD;QAC/D,IAAI,CAACD,OAAO,GAAG,KAAK;QACpB;QACA,MAAMG,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAClDF,YAAY,CAACG,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC;QACnDH,YAAY,CAACI,WAAW,GAAG,IAAI,CAACN,KAAK;QACrCG,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,YAAY,CAAC;QACvCO,UAAU,CAAC,MAAMN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,YAAY,CAAC,EAAE,IAAI,CAAC;MACjE;KACD,CAAC;EACJ;;;uBAxBWZ,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAAqB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDR9B1B,kCAAkC;UAC5BA,4BAAY;UAAAA,iBAAK;UAErBA,kEAMM;UAENA,kEAKM;UAENA,kEAKM;UACRA,iBAAU;;;UArBFA,eAAa;UAAbA,kCAAa;UAQbA,eAAW;UAAXA,gCAAW;UAOXA,eAAwB;UAAxBA,iDAAwB","names":["i0","ProductsComponent","constructor","dataService","ngOnInit","getProducts","subscribe","next","data","products","loading","error","err","announcement","document","createElement","setAttribute","textContent","body","appendChild","setTimeout","removeChild","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/amohapatra/Desktop/projects/hackfest-2025/Web4All-A11y.Audit.POC/src/app/components/products/products.component.html","/Users/amohapatra/Desktop/projects/hackfest-2025/Web4All-A11y.Audit.POC/src/app/components/products/products.component.ts"],"sourcesContent":["<section class=\"products-section\">\n  <h1>Our Products</h1>\n\n  <div *ngIf=\"loading\" \n       role=\"alert\" \n       aria-busy=\"true\" \n       class=\"loading-indicator\">\n    <span class=\"visually-hidden\">Loading products...</span>\n    Loading...\n  </div>\n\n  <div *ngIf=\"error\" \n       role=\"alert\" \n       class=\"error-message\" \n       aria-live=\"assertive\">\n    {{error}}\n  </div>\n\n  <div *ngIf=\"!loading && !error\" class=\"products-container\">\n    <app-table-view \n      [products]=\"products\"\n      caption=\"Our Eco-Friendly Products\">\n    </app-table-view>\n  </div>\n</section>\n","import { Component, OnInit } from '@angular/core';\nimport { DataService, Product } from '../../services/data.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n  products: Product[] = [];\n  loading = true;\n  error = '';\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit(): void {\n    this.dataService.getProducts().subscribe({\n      next: (data) => {\n        this.products = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to load products. Please try again later.';\n        this.loading = false;\n        // Announce error to screen readers\n        const announcement = document.createElement('div');\n        announcement.setAttribute('aria-live', 'assertive');\n        announcement.textContent = this.error;\n        document.body.appendChild(announcement);\n        setTimeout(() => document.body.removeChild(announcement), 1000);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}