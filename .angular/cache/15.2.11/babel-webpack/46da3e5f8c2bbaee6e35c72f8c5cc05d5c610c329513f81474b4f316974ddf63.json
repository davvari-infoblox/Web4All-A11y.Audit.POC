{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/data.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/table-view/table-view.component\";\nfunction ProductsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"span\", 5);\n    i0.ɵɵtext(2, \"Loading products...\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Loading... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ProductsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.error, \" \");\n  }\n}\nfunction ProductsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵelement(1, \"app-table-view\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"products\", ctx_r2.products);\n  }\n}\nexport class ProductsComponent {\n  constructor(dataService) {\n    this.dataService = dataService;\n    this.products = [];\n    this.loading = true;\n    this.error = '';\n  }\n  ngOnInit() {\n    this.dataService.getProducts().subscribe({\n      next: data => {\n        this.products = data;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = 'Failed to load products. Please try again later.';\n        this.loading = false;\n        // Announce error to screen readers\n        const announcement = document.createElement('div');\n        announcement.setAttribute('aria-live', 'assertive');\n        announcement.textContent = this.error;\n        document.body.appendChild(announcement);\n        setTimeout(() => document.body.removeChild(announcement), 1000);\n      }\n    });\n  }\n  static {\n    this.ɵfac = function ProductsComponent_Factory(t) {\n      return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.DataService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 6,\n      vars: 3,\n      consts: [[1, \"products-section\"], [\"role\", \"alert\", \"aria-busy\", \"true\", \"class\", \"loading-indicator\", 4, \"ngIf\"], [\"role\", \"alert\", \"class\", \"error-message\", \"aria-live\", \"assertive\", 4, \"ngIf\"], [\"class\", \"products-container\", 4, \"ngIf\"], [\"role\", \"alert\", \"aria-busy\", \"true\", 1, \"loading-indicator\"], [1, \"visually-hidden\"], [\"role\", \"alert\", \"aria-live\", \"assertive\", 1, \"error-message\"], [1, \"products-container\"], [\"caption\", \"Our Eco-Friendly Products\", 3, \"products\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"h1\");\n          i0.ɵɵtext(2, \"Our Products\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ProductsComponent_div_3_Template, 4, 0, \"div\", 1);\n          i0.ɵɵtemplate(4, ProductsComponent_div_4_Template, 2, 1, \"div\", 2);\n          i0.ɵɵtemplate(5, ProductsComponent_div_5_Template, 2, 1, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.error);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error);\n        }\n      },\n      dependencies: [i2.NgIf, i3.TableViewComponent],\n      styles: [\".products-section[_ngcontent-%COMP%] {\\n  padding: 2rem;\\n}\\n\\nh1[_ngcontent-%COMP%] {\\n  color: #333;\\n  margin-bottom: 2rem;\\n}\\n\\n.loading-indicator[_ngcontent-%COMP%] {\\n  text-align: center;\\n  padding: 2rem;\\n  color: #666;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  background-color: #ffebee;\\n  color: #c62828;\\n  padding: 1rem;\\n  border-radius: 4px;\\n  margin: 1rem 0;\\n}\\n\\n.visually-hidden[_ngcontent-%COMP%] {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  white-space: nowrap;\\n  border: 0;\\n}\\n\\n\\n.loading-indicator[_ngcontent-%COMP%]::after {\\n  content: \\\"...\\\";\\n  animation: _ngcontent-%COMP%_loading 1.5s infinite;\\n}\\n\\n@keyframes _ngcontent-%COMP%_loading {\\n  0% { content: \\\".\\\"; }\\n  33% { content: \\\"..\\\"; }\\n  66% { content: \\\"...\\\"; }\\n}\\n\\n@media (max-width: 768px) {\\n  .products-section[_ngcontent-%COMP%] {\\n    padding: 1rem;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9wcm9kdWN0cy9wcm9kdWN0cy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixhQUFhO0VBQ2IsV0FBVztBQUNiOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLGNBQWM7RUFDZCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxrQkFBa0I7RUFDbEIsVUFBVTtFQUNWLFdBQVc7RUFDWCxVQUFVO0VBQ1YsWUFBWTtFQUNaLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLFNBQVM7QUFDWDs7QUFFQSxzQkFBc0I7QUFDdEI7RUFDRSxjQUFjO0VBQ2QsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsS0FBSyxZQUFZLEVBQUU7RUFDbkIsTUFBTSxhQUFhLEVBQUU7RUFDckIsTUFBTSxjQUFjLEVBQUU7QUFDeEI7O0FBRUE7RUFDRTtJQUNFLGFBQWE7RUFDZjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2R1Y3RzLXNlY3Rpb24ge1xuICBwYWRkaW5nOiAycmVtO1xufVxuXG5oMSB7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW4tYm90dG9tOiAycmVtO1xufVxuXG4ubG9hZGluZy1pbmRpY2F0b3Ige1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDJyZW07XG4gIGNvbG9yOiAjNjY2O1xufVxuXG4uZXJyb3ItbWVzc2FnZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmViZWU7XG4gIGNvbG9yOiAjYzYyODI4O1xuICBwYWRkaW5nOiAxcmVtO1xuICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIG1hcmdpbjogMXJlbSAwO1xufVxuXG4udmlzdWFsbHktaGlkZGVuIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB3aWR0aDogMXB4O1xuICBoZWlnaHQ6IDFweDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luOiAtMXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICBib3JkZXI6IDA7XG59XG5cbi8qIExvYWRpbmcgYW5pbWF0aW9uICovXG4ubG9hZGluZy1pbmRpY2F0b3I6OmFmdGVyIHtcbiAgY29udGVudDogXCIuLi5cIjtcbiAgYW5pbWF0aW9uOiBsb2FkaW5nIDEuNXMgaW5maW5pdGU7XG59XG5cbkBrZXlmcmFtZXMgbG9hZGluZyB7XG4gIDAlIHsgY29udGVudDogXCIuXCI7IH1cbiAgMzMlIHsgY29udGVudDogXCIuLlwiOyB9XG4gIDY2JSB7IGNvbnRlbnQ6IFwiLi4uXCI7IH1cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5wcm9kdWN0cy1zZWN0aW9uIHtcbiAgICBwYWRkaW5nOiAxcmVtO1xuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"mappings":";;;;;;IAGEA,8BAG+B;IACCA,mCAAmB;IAAAA,iBAAO;IACxDA,4BACF;IAAAA,iBAAM;;;;;IAENA,8BAG2B;IACzBA,YACF;IAAAA,iBAAM;;;;IADJA,eACF;IADEA,6CACF;;;;;IAEAA,8BAA2D;IACzDA,oCAGiB;IACnBA,iBAAM;;;;IAHFA,eAAqB;IAArBA,0CAAqB;;;ACZ3B,OAAM,MAAOC,iBAAiB;EAK5BC,YAAoBC,WAAwB;IAAxB,gBAAW,GAAXA,WAAW;IAJ/B,aAAQ,GAAc,EAAE;IACxB,YAAO,GAAG,IAAI;IACd,UAAK,GAAG,EAAE;EAEqC;EAE/CC,QAAQ;IACN,IAAI,CAACD,WAAW,CAACE,WAAW,EAAE,CAACC,SAAS,CAAC;MACvCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,QAAQ,GAAGD,IAAI;QACpB,IAAI,CAACE,OAAO,GAAG,KAAK;MACtB,CAAC;MACDC,KAAK,EAAGC,GAAG,IAAI;QACb,IAAI,CAACD,KAAK,GAAG,kDAAkD;QAC/D,IAAI,CAACD,OAAO,GAAG,KAAK;QACpB;QACA,MAAMG,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAClDF,YAAY,CAACG,YAAY,CAAC,WAAW,EAAE,WAAW,CAAC;QACnDH,YAAY,CAACI,WAAW,GAAG,IAAI,CAACN,KAAK;QACrCG,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,YAAY,CAAC;QACvCO,UAAU,CAAC,MAAMN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,YAAY,CAAC,EAAE,IAAI,CAAC;MACjE;KACD,CAAC;EACJ;;;uBAxBWZ,iBAAiB;IAAA;EAAA;;;YAAjBA,iBAAiB;MAAAqB;MAAAC;MAAAC;MAAAC;MAAAC;QAAA;UDR9B1B,kCAAkC;UAC5BA,4BAAY;UAAAA,iBAAK;UAErBA,kEAMM;UAENA,kEAKM;UAENA,kEAKM;UACRA,iBAAU;;;UArBFA,eAAa;UAAbA,kCAAa;UAQbA,eAAW;UAAXA,gCAAW;UAOXA,eAAwB;UAAxBA,iDAAwB","names":["i0","ProductsComponent","constructor","dataService","ngOnInit","getProducts","subscribe","next","data","products","loading","error","err","announcement","document","createElement","setAttribute","textContent","body","appendChild","setTimeout","removeChild","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/amohapatra/Desktop/projects/hackfest-2025/Web4All-A11y.Audit.POC/src/app/components/products/products.component.html","/Users/amohapatra/Desktop/projects/hackfest-2025/Web4All-A11y.Audit.POC/src/app/components/products/products.component.ts"],"sourcesContent":["<section class=\"products-section\">\n  <h1>Our Products</h1>\n\n  <div *ngIf=\"loading\" \n       role=\"alert\" \n       aria-busy=\"true\" \n       class=\"loading-indicator\">\n    <span class=\"visually-hidden\">Loading products...</span>\n    Loading...\n  </div>\n\n  <div *ngIf=\"error\" \n       role=\"alert\" \n       class=\"error-message\" \n       aria-live=\"assertive\">\n    {{error}}\n  </div>\n\n  <div *ngIf=\"!loading && !error\" class=\"products-container\">\n    <app-table-view \n      [products]=\"products\"\n      caption=\"Our Eco-Friendly Products\">\n    </app-table-view>\n  </div>\n</section>\n","import { Component, OnInit } from '@angular/core';\nimport { DataService, Product } from '../../services/data.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit {\n  products: Product[] = [];\n  loading = true;\n  error = '';\n\n  constructor(private dataService: DataService) {}\n\n  ngOnInit(): void {\n    this.dataService.getProducts().subscribe({\n      next: (data) => {\n        this.products = data;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = 'Failed to load products. Please try again later.';\n        this.loading = false;\n        // Announce error to screen readers\n        const announcement = document.createElement('div');\n        announcement.setAttribute('aria-live', 'assertive');\n        announcement.textContent = this.error;\n        document.body.appendChild(announcement);\n        setTimeout(() => document.body.removeChild(announcement), 1000);\n      }\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}